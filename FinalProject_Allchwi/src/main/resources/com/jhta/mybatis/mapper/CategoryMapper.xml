<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jhta.mybatis.mapper.CategoryMapper">
	<insert id="bcate_insert" parameterType="big_category">
		insert into big_category values(null,#{bcategory_name})
	</insert>
	

	<insert id="scate_insert" parameterType="small_category">
		insert into small_category values(null,#{bcategory_num},#{scategory_name})
	</insert>

	<select id="list" resultType="com.jhta.allchwi.vo.admin.BigsmallCategoryVO">
		select b.bcategory_num, b.bcategory_name,s.scategory_num,s.bcategory_num,s.scategory_name
		from big_category b LEFT OUTER JOIN small_category s
		on s.bcategory_num = b.bcategory_num order by b.bcategory_num;
	</select>
	
	<select id="bcate_list" resultType="big_category">
		select bcategory_num,bcategory_name from big_category
	</select>
	
	<delete id="del_scate" parameterType="int">
		delete from small_category where scategory_num=#{scategory_num}
	</delete>
	
	<delete id="del_bcate" parameterType="int">
		delete from big_category where bcategory_num=#{bcategory_num}
	</delete>
	<select id="scate_list" parameterType="int" resultType="small_category">
		select scategory_num,bcategory_num,scategory_name from small_category where bcategory_num=#{bcategory_num}
	</select>
	<select id="scatename" parameterType="int" resultType="String">
		select scategory_name from small_category where scategory_num=#{scategory_num}
	</select>
	<select id="bcatename" parameterType="int" resultType="String">
		select bcategory_name from big_category where bcategory_num=#{bcategory_num}
	</select>
	<select id="allscate_list" resultType="small_category">
		select scategory_num,s.bcategory_num,scategory_name, bcategory_name from small_category s, big_category b
		where s.bcategory_num=b.bcategory_num
	</select>




</mapper>









