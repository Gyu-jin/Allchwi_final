<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jhta.mybatis.mapper.AdminManageClassMapper">
	
	<!-- 
	<sql id="search">
		<if test="field!=null and field!=''">
			where ${field} like '%#{keyword}%'
		</if>			
	</sql>
	 -->
	
	<select id="manage_list" resultType="com.jhta.allchwi.vo.admin.ManageClassVO" >
		select ci.ml_num,ci.class_num,ci.tutor_nickname, ci.class_title, ci.class_form, sc.scategory_name
		from class_info ci, small_category sc
		where ci.scategory_num = sc.scategory_num
		
		<!-- 
		<if test="field!=null and field!=''">
			where ${field} like CONCAT('%',#{keyword},'%') 
		</if>
		limit #{startRow},5
		 -->
	</select>
	
	
	
	<select id="countPeople" resultType="int" parameterType="int">
		select NVL(count(*),0) people
		from class_info ci, class_date cd, class_apply ca
		where ci.class_num = cd.class_num and cd.date_num =ca.date_num and ca.apply_auth=1 and cd.class_num = #{class_num}
	</select>
	
	
	
	
	
	
	<!-- 
	<select id="count" resultType="int" parameterType="hashmap" >
		select NVL(count(*),0) cnt from practice 
		<if test="field!=null and field!=''">
			where ${field} like CONCAT('%',#{keyword},'%')
		</if>
	</select>
	 -->
	
	
</mapper>



